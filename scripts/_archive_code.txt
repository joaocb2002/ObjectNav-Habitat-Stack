    # # Get agent state
    # agent_state = agent.get_state()
    # grid_x, grid_y = habitat_maps.to_grid(
    #     agent_state.position[2],
    #     agent_state.position[0],
    #     (grid_map.shape[0], grid_map.shape[1]),
    #     sim=simulator.sim,
    #     pathfinder=simulator.sim.pathfinder,
    # )
    # print(f"Agent grid position (row, col): ({grid_x}, {grid_y})")
    # yaw = rotation_to_yaw(
    #     agent_state.rotation,
    #     degrees=True,
    #     initial_forward=AGENT_DEFAULT_DIRECTION,
    #     normalize=True,
    # )
    # print(f"Agent yaw (degrees): {yaw}")
    
    # Plot initial agent position on the map
    # plot_map(grid_map, title="Grid Map", save_path="outputs/grid_map.png")
    # plot_map_with_agent(
    #     grid_map,
    #     agent_state.position,
    #     agent_state.rotation,
    #     sim=simulator.sim,
    #     title="Grid Map + Agent",
    #     save_path="outputs/grid_map_with_agent.png",
    #     agent_radius_px=20,
    # )

    # # Print navmesh AABB (both corners)
    # bounds_min, bounds_max = simulator.sim.pathfinder.get_bounds()
    # print(f"Navmesh bounds min (x,y,z): {bounds_min}")
    # print(f"Navmesh bounds max (x,y,z): {bounds_max}")

    # # Print scene extents 
    # print("Scene AABB from Simulator:", simulator.sim.scene_aabb)

    # # Plot topdown map with islands
    # topdown_map = simulator.sim.pathfinder.get_topdown_island_view(height=0, meters_per_pixel=0.01)

    # # Get observations
    # action_names = list(simulator.cfg.agents[0].action_space.keys())
    # print("\nAvailable actions:", action_names)

    # action = "move_forward"
    # observations = simulator.sim.step(action)
    # agent_state = agent.get_state()
    # plot_map_with_agent(
    #     grid_map,
    #     agent_state.position,
    #     agent_state.rotation,
    #     sim=simulator.sim,
    #     title="Grid Map + Agent",
    #     save_path="outputs/grid_map_with_agent_2.png",
    #     agent_radius_px=20,
    # )

    # # Display observations keys
    # print("\nObservation keys:", list(observations.keys()))
    # rgb, depth, collided = observations["color_sensor"], observations["depth_sensor"], observations["collided"]

    # display_observations(rgb, depth, save_path="outputs/observations.png")
    # print("Collided:", collided)

    # Reset simulator
    print("Resetting simulator...")
    simulator.reset() 


    CLAUDE.MD 

    (Add these to your CLAUDE .md file)

1. "Before writing any code, describe your approach and wait for approval. Always ask clarifying questions before writing any code if requirements are ambiguous."

2. "If a task requires changes to more than 3 files, stop and break it into smaller tasks first."

3. "After writing code, list what could break and suggest tests to cover it."

4. "When thereâ€™s a bug, start by writing a test that reproduces it, then fix it until the test passes."

5. "Every time I correct you, add a new rule to the CLAUDE .md file so it never happens again."